# 🌟 星轨纪事 - Star Track Chronicles

<div align="center">

**让重要时刻不错过，让期待变得更有仪式感**

一个基于Three.js的3D交互式时间管理应用

[快速开始](#快速开始) • [功能特色](#功能特色) • [使用指南](#使用指南) • [技术实现](#技术实现)

</div>

---

## 📋 项目简介

**星轨纪事**是一款创新的时间管理工具，通过**三维时间轴**和**成就星图**，将重要时刻转化为可交互的星际仪式。它不仅是一个倒计时工具，更是你的生活记录器和目标追踪助手。

### 🎯 参赛主题："时间管理大师"

本项目参加"时间管理大师"主题竞赛，严格遵循参赛规则：
- ✅ 纯HTML+CSS+JS实现，无需后端
- ✅ 使用Three.js创造酷炫3D效果
- ✅ 可直接在浏览器运行
- ✅ 附带完整README说明

---

## 🚀 快速开始

### 运行方式

**方式一：直接运行（推荐）**

1. 下载项目所有文件到本地
2. 双击打开 `index.html` 文件
3. 等待3秒火箭发射动画完成
4. 开始使用！

**方式二：本地服务器**

```bash
# 使用Python
python -m http.server 8000

# 或使用Node.js
npx http-server

# 然后访问 http://localhost:8000
```

### 系统要求

- **浏览器**: Chrome 90+、Firefox 88+、Safari 14+、Edge 90+
- **网络**: 首次运行需联网加载Three.js库（约100KB）
- **存储**: 至少5MB本地存储空间
- **屏幕**: 建议分辨率1280x720以上

### 移动端支持

✅ 完美支持iOS Safari和Android Chrome
✅ 支持触屏手势：双指缩放、单指旋转
✅ 响应式设计，自动适配屏幕尺寸

---

## ✨ 功能特色

### 核心功能

#### 🕰️ 时间胶囊
- **倒计时追踪**: 为生日、考试、纪念日等重要日期创建倒计时
- **视觉特效**: 倒计时结束触发绚丽的粒子烟花效果
- **自定义颜色**: 5种主题色任意选择
- **重要标记**: 为特别事件添加光环效果
- **闹钟造型**: 独特的闹钟+星星3D模型设计

#### 🎯 目标星轨
- **进度追踪**: 可视化展示长期目标完成进度（0-100%）
- **里程碑节点**: 设置多个子目标，逐步完成
- **3D轨迹**: 用星轨轨迹和光晕效果呈现成长路径
- **动态更新**: 实时更新进度，自动触发特效
- **动态星轨**: 随着进度增长，星轨数量增加（每20%增加一个，最多5个）
- **完成特效**: 100%完成时，所有星轨合并成单一大型发光星轨

#### 🏆 里程碑星图
- **记录节点**: 记录毕业、工作、成家等人生重要时刻
- **星座生成**: 3个以上里程碑自动生成专属守护星座
- **导出壁纸**: 可将星座图保存为高清图片
- **成就系统**: 解锁8种不同成就徽章
- **冠军奖杯模型**: 独特的3D奖杯造型，配有光环效果和装饰星星

#### ✉️ 时光信笺
- **写给未来**: 书写给未来自己的信件
- **定时开启**: 设定开启日期，到期自动提醒
- **情感寄托**: 记录当下心情，留给未来回味
- **自定义信封**: 选择喜欢的颜色和星星数量（1-5颗）
- **信封模型**: 简洁美观的信封3D模型，带三角形封口

### 旋转效果

所有事件按类型分为**四行**围绕中心轴优雅旋转：
- 📍 **时间胶囊**: 底部第一行（y=-40）
- 📍 **目标星轨**: 第二行（y=-13）
- 📍 **里程碑**: 第三行（y=13）
- 📍 **时光信笺**: 顶部第四行（y=40）

**特性**：
- 🌀 缓慢旋转，优雅流畅
- 🎯 同类事件在同一轨道上
- 🖱️ 鼠标悬停时该行暂停旋转
- 👁️ 鼠标移开后自动恢复旋转

### 游戏化激励

- 🏅 **成就系统**: 8种成就等你解锁
  - 起航：创建第一个事件
  - 群星璀璨：创建10个事件
  - 里程碑：完成第一个目标
  - 坚持不懈：连续签到7天
  - 夜猫子/早起鸟：在特定时间创建事件
  - 时光信使：发送第一封信笺
  - 守护星座：生成专属星座

- 🎆 **粒子特效**
  - 烟花效果：事件完成时触发
  - 极光效果：里程碑达成时触发
  - 星轨拖尾：鼠标交互时显示

- 🌌 **守护星座**
  - 根据你的里程碑自动生成
  - 独一无二的星座图案
  - 支持导出分享

### 特色功能

- 🔊 **语音播报**: 重要事件自动语音提醒（可关闭）
- 🔔 **桌面通知**: 24小时内到期事件推送通知
- 💾 **数据持久化**: LocalStorage自动保存，刷新不丢失
- 📤 **数据导入导出**: 支持备份和迁移数据
- 🎨 **自定义主题**: 多种渐变色彩方案
- 📱 **触屏优化**: 完美支持移动端手势操作
- 🎮 **演示数据**: 一键加载演示数据，快速体验

---

## 📖 使用指南

### 基础操作

1. **创建事件**
   - 点击右下角 `+` 浮动按钮
   - 选择当前模式（时间胶囊/目标星轨/里程碑/时光信笺）
   - 填写事件信息
   - 选择颜色和参数（时光信笺可选择星星数量）
   - 点击创建按钮

2. **查看事件**
   - 左侧边栏显示所有事件列表
   - 点击事件卡片查看详情
   - 3D场景中的星球代表各个事件
   - 不同类型的事件有不同的3D模型

3. **交互操作**
   - **鼠标左键拖拽**: 旋转3D场景
   - **鼠标滚轮**: 缩放视图
   - **鼠标悬停**: 显示事件提示信息，该行暂停旋转
   - **点击星球**: 查看事件详情
   - **点击分类按钮**: 只显示该类型的事件
   - **点击"全部"**: 显示所有事件
   - **移动端**: 双指缩放，单指旋转

4. **管理事件**
   - 点击事件查看详情
   - 更新目标进度
   - 切换里程碑完成状态
   - 删除不需要的事件

### 高级功能

#### 设置选项

点击右上角⚙️图标打开设置：
- **语音播报**: 开启/关闭语音提醒
- **桌面通知**: 开启/关闭浏览器通知
- **粒子特效**: 开启/关闭特效（低配置设备可关闭）
- **加载演示数据**: 快速体验所有功能
- **清空数据**: 清除所有数据（注意：不可恢复）
- **测试数据加载**: 诊断数据加载问题

#### 数据管理

- **导出数据**: 下载JSON格式的所有数据
- **导入数据**: 从JSON文件恢复数据
- **自动保存**: 每分钟自动保存到本地

#### 成就系统

点击右上角🏅图标查看：
- 当前已解锁的成就
- 你的守护星座图案
- 可将星座导出为图片

---

## 🛠️ 技术实现

### 技术栈

- **前端框架**: 原生JavaScript (ES6+)
- **3D引擎**: Three.js r128
- **样式**: CSS3 (Grid/Flexbox/动画)
- **存储**: LocalStorage API
- **语音**: Web Speech API
- **通知**: Notification API

### 核心特性

#### 三维场景引擎

```javascript
// 使用Three.js构建3D场景
- 中心轴旋转：所有事件围绕中心轴旋转
- 四行布局：不同类型事件分布在不同高度
- 事件模型：每种类型有独特的3D模型
  * 时间胶囊：闹钟+12颗星星
  * 目标星轨：动态轨道（根据进度）
  * 里程碑：冠军奖杯+光环
  * 时光信笺：信封+星星装饰
- 轨道控制：OrbitControls实现流畅交互
```

#### 3D模型系统

**时间胶囊（Capsule）**:
- 闹钟圆盘（CylinderGeometry）
- 12个小星星代替数字
- 时针和分针
- 中心大星星

**目标星轨（Track）**:
- 动态轨道系统
- 进度条直接显示在模型上
- 1-5个轨道（每20%增加一个）
- 100%完成时合并成单一大型星轨

**里程碑（Milestone）**:
- 冠军奖杯造型
- 底座+杯身+杯口+顶部标志
- 装饰条纹
- 多层光环效果
- 6颗装饰星星

**时光信笺（Letter）**:
- 信封主体
- 三角形封口
- 可自定义颜色
- 1-5颗星星（用户选择）
- 超过3颗自动换行显示

#### 粒子系统

```javascript
// Canvas 2D粒子特效
- 烟花效果：100个粒子爆炸式扩散
- 极光效果：多层波浪渐变动画
- 物理模拟：重力、速度、生命周期
```

#### 数据持久化

```javascript
// LocalStorage数据结构
{
  events: [],        // 所有事件（包括信件）
  checkIns: [],      // 签到记录
  settings: {},      // 用户设置
  achievements: {}   // 成就状态
}
```

### 视觉设计

#### 色彩系统

- **主色调**: 深空蓝 (#0a0e27) + 星云紫 (#6b2fb5)
- **辅助色**: 宇宙青 (#00d4ff)、星金 (#ffd700)
- **渐变**: 135度宇宙渐变 (deep-blue → purple → pink)

#### 动画效果

- 火箭发射加载动画（3秒）
- 四行旋转效果（缓慢优雅）
- 鼠标悬停暂停旋转
- 星球自转
- 时间轴螺旋旋转
- 按钮hover星轨拖拽
- 模态框淡入淡出

### 性能优化

- ✅ requestAnimationFrame优化动画
- ✅ 按需渲染粒子系统
- ✅ 事件委托减少监听器
- ✅ 防抖节流优化交互
- ✅ LocalStorage定期保存
- ✅ 相机控制优化

---

## 📂 项目结构

```
Star-Track-Chronicles/
│
├── index.html          # 主HTML文件
├── styles.css          # 样式文件
├── main.js             # 主JavaScript文件（包含所有3D逻辑）
├── demo-data.js        # 演示数据文件
├── 诊断工具.html       # 数据诊断工具
├── README.md           # 项目说明文档
└── LICENSE             # MIT协议
```

**文件说明**:
- `index.html`: 包含完整的DOM结构和UI布局
- `styles.css`: 深空蓝+星云紫主题，所有UI样式
- `main.js`: Three.js 3D引擎、事件管理、粒子系统等所有逻辑
- `demo-data.js`: 演示数据，包含示例事件、成就等
- `诊断工具.html`: 独立的数据诊断和调试工具

---

## 🎮 使用示例

### 示例1: 创建考试倒计时

1. 点击右下角 `+` 按钮
2. 确保选择"时间胶囊"模式
3. 填写：
   - 事件名称：期末考试
   - 目标日期：2025-01-15 09:00
   - 描述：加油冲刺！
   - 颜色：选择青色
   - 勾选"重要事件"
4. 点击创建，闹钟模型出现在3D场景中
5. 悬停鼠标查看倒计时，该行会暂停旋转

### 示例2: 追踪健身目标

1. 切换到"目标星轨"模式
2. 点击 `+` 按钮
3. 填写：
   - 目标名称：减重10kg
   - 目标日期：2025-06-01
   - 当前进度：30%
   - 里程碑：
     ```
     完成第一个月计划
     达到5kg减重
     保持良好习惯
     ```
4. 定期回来更新进度，星轨会动态变化
5. 达到100%时，所有星轨会合并成大型发光星轨

### 示例3: 写时光信笺

1. 切换到"时光信笺"模式
2. 点击 `+` 按钮
3. 填写：
   - 标题：给一年后的自己
   - 开启日期：2026-01-01
   - 内容：写下你的期望和祝福
   - **信封颜色**：选择你喜欢的颜色
   - **星星数量**：选择1-5颗
4. 到期后会收到通知

---

## 🌈 视觉效果展示

### 加载动画
- 🚀 火箭发射倒计时（3-2-1-起飞）
- ⭐ 星空背景闪烁
- 🌊 渐变色波浪动画

### 3D场景
- 🌌 10000颗星星背景
- 🌀 四行优雅旋转
- 🪐 独特3D模型事件
  - 🕰️ 闹钟（时间胶囊）
  - 🎯 动态星轨（目标星轨）
  - 🏆 奖杯（里程碑）
  - ✉️ 信封（时光信笺）
- 💫 重要事件光环效果
- 🎨 自定义颜色

### 特效系统
- 🎆 100粒子烟花爆炸
- 🌈 极光波浪渐变
- ✨ 成就解锁闪光
- 🎨 星轨拖拽尾迹

---

## 🏅 成就系统详解

| 成就 | 图标 | 解锁条件 |
|------|------|----------|
| 起航 | 🚀 | 创建第一个事件 |
| 群星璀璨 | ⭐ | 创建10个事件 |
| 里程碑 | 🏆 | 完成第一个目标 |
| 坚持不懈 | 🔥 | 连续签到7天 |
| 夜猫子 | 🦉 | 在00:00-06:00创建事件 |
| 早起鸟 | 🐦 | 在05:00-09:00创建事件 |
| 时光信使 | ✉️ | 发送第一封信笺 |
| 守护星座 | 🌌 | 创建3个以上里程碑 |

---

## 📱 移动端使用

### 手势操作

- **单指拖动**: 旋转3D场景
- **双指捏合**: 缩放视图
- **点击星球**: 查看详情
- **侧滑**: 展开/收起侧边栏

### 适配特性

- 响应式布局自动适配
- 导航栏自动折叠为图标
- 触摸友好的按钮尺寸
- 竖屏/横屏自动调整

---

## 🔒 隐私说明

- ✅ 所有数据存储在本地浏览器
- ✅ 无需注册账号
- ✅ 不收集任何个人信息
- ✅ 不连接任何服务器
- ✅ 完全离线可用（首次加载后）

---

## 🐛 常见问题

**Q: 3D场景加载失败？**
A: 确保网络连接正常，Three.js库需从CDN加载。

**Q: 数据丢失了？**
A: 检查浏览器是否清除了LocalStorage。建议定期导出数据备份。

**Q: 移动端性能卡顿？**
A: 在设置中关闭粒子特效，可显著提升性能。

**Q: 语音播报无声音？**
A: 检查浏览器是否支持Web Speech API，部分浏览器需手动授权。

**Q: 桌面通知不显示？**
A: 在设置中开启通知，并在浏览器弹窗中允许通知权限。

**Q: 演示数据加载失败？**
A: 使用"诊断工具.html"检查问题，或查看浏览器控制台错误信息。

**Q: 为什么选择该类别后没有旋转效果？**
A: 确保当前模式是"全部"，且鼠标没有悬停在模型上。

---

## 🔮 未来扩展

- [ ] 导入Google Calendar日历
- [ ] 支持.ics格式文件
- [ ] 社交分享卡片生成
- [ ] 多人协作时间轴
- [ ] 主题商店（更多视觉主题）
- [ ] 背景音乐播放器
- [ ] 事件标签分类
- [ ] 统计报表功能
- [ ] 自定义3D模型
- [ ] AI智能提醒

---

## 📜 开源协议

本项目采用 MIT 协议开源

---

## 👨‍💻 开发说明

### 技术亮点

1. **Three.js 3D渲染**
   - 使用WebGL加速
   - 10000+粒子星空
   - 实时光照计算
   - 四种独特3D模型

2. **Canvas粒子系统**
   - 物理引擎模拟
   - 100+粒子实时渲染
   - 多种特效算法

3. **数据持久化**
   - LocalStorage存储
   - 自动保存机制
   - 导入导出功能

4. **游戏化设计**
   - 8种成就系统
   - 星座生成算法
   - 进度可视化

### 代码规范

- ES6+ 语法
- 模块化设计
- 注释完整
- 性能优化

---

## 🎉 致谢

感谢以下开源项目：
- [Three.js](https://threejs.org/) - 3D渲染引擎
- [cdnjs](https://cdnjs.com/) - CDN服务

---

## 📮 联系方式

如有问题或建议，欢迎反馈！

---

<div align="center">

**🌟 星轨纪事 - 让时间管理变得有趣！🌟**

Made with ❤️ and ✨

</div>
